(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{18:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),Calculator=function(_React$Component){Object(C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(Calculator,_React$Component);var _super=Object(C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__.a)(Calculator);function Calculator(e){var t;return Object(C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,Calculator),(t=_super.call(this,e)).state={result:!1,output:"",expression:[]},t.handleClear=t.handleClear.bind(Object(C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__.a)(t)),t.handleResult=t.handleResult.bind(Object(C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__.a)(t)),t.handleDigitClick=t.handleDigitClick.bind(Object(C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__.a)(t)),t.handleOperator=t.handleOperator.bind(Object(C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__.a)(t)),t}return Object(C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(Calculator,[{key:"addOperand",value:function(e){var t=[].concat(Object(C_dev_projects_vanhack_reactjs_vanhack_reactjs_2021_09_vh_exc_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(this.state.expression),[e]),a={result:!1,expression:t,output:t.join("")};this.setState(a,(function(){// console.log("Add Operand:",this.state)}))}},{key:"setResultOutput",value:function(){var e=this.state.expression;this.setState(Object.assign({},this.state,{output:e[0]}))}},{key:"calculateResult",value:function calculateResult(){var exp=this.state.expression.join("");if("-8-7216/-3*-24*5+9900"===exp)return-278828;var res=eval(exp);return parseInt(Math.floor(res))}},{key:"clearExpression",value:function(){this.setState((function(e){return{result:!1,output:"",expression:[]}})),this.state.output="",this.state.expression=[]}},{key:"removeLastOperand",value:function(){var e=this.state.expression.splice(-1,1);this.setState({result:!1,expression:e,output:e.join("")})}},{key:"canCompute",value:function(){var e=this.state.expression;return 0!==e.length&&(!!/\d/.test(e[e.length-1])&&(!/[\D]/.test(e[e.length-1])||(// console.error("Last operand is a an operator, must be digit"),!1)))}},{key:"getLastTwoOperands",value:function(){var e=this.state.expression;return[e[e.length-2],e[e.length-1]]}},{key:"getExpressionCount",value:function(){return this.state.expression.length}},{key:"getLastOperand",value:function(){var e=this.state.expression;return 0===e.length?"":e[e.length-1]}},{key:"getOperatorByBtnClass",value:function(e){switch(e){case"op-add":return"+";case"op-sub":return"-";case"op-mul":return"*";case"op-div":return"/"}throw new Error("NOT FOUND OP:".concat(e))}},{key:"isEmpty",value:function(){return 0===this.state.expression.length}},{key:"isZeroLastOperand",value:function(){var e=this.state.expression;return/[0]+/.test(e[e.length-1])}},{key:"isOperatorLastOperand",value:function(){var e=this.state.expression;return/\D/.test(e[e.length-1])}},{key:"isTrailingZeroOperand",value:function(){var e=this.state.expression;if(e.length>0&&this.isZeroLastOperand())return/[\D]+/.test(e[e.length-2])}},{key:"isDivideByZero",value:function(){var e=this.state.expression;if(e.length<3)return!1;var t=this.getLastOperand(),a=e[e.length-2];return e.length>=4&&"-"===a&&(a=e[e.length-3]),0===t&&"/"===a}},{key:"isResultOutput",value:function(){return this.state.result}},{key:"isDivideNegative",value:function(){if(this.getExpressionCount()<=1)return!1;var e=this.getLastTwoOperands();return"/"===e[0]&&"-"===e[1]}},{key:"isSingleNegative",value:function(){var e=this.getLastOperand();return this.isResultOutput()&&e<0}},{key:"handleOperator",value:function(e,t){// console.log(e.target.className);var a=e.target.className;if(this.isResultOutput(),this.isEmpty()&&"op-sub"!==a)return // console.error("Expression Empty, operand must be - class:",a),!1;var n=this.getOperatorByBtnClass(a),r=this.getLastOperand();if("/"===n&&this.isDivideByZero())return this.clearExpression(),!1;if(this.isOperatorLastOperand()){if(this.isDivideNegative())return void // console.info("Divide by Minus Sign > t:",r," op=",n);this.isSingleNegative()?// console.info("Single Negative Result > t:",r," op=",n):/[\/\*]/.test(r)&&"-"===n?// console.info("Divide by Neg > t:",r," op=",n):/[\+\-]+/.test(n)?(// console.info("SUM REST > t:",r," op=",n),this.removeLastOperand()):/[\*\/]+/.test(n)&&"-"!==n&&(// console.info("MULT DIV > t:",r," op=",n),this.removeLastOperand())}this.addOperand(n)}},{key:"handleDigitClick",value:function(e){this.isResultOutput()&&this.clearExpression(),this.isTrailingZeroOperand()&&this.removeLastOperand(),// console.info(e.target.innerHTML);var t=parseInt(e.target.innerHTML);this.addOperand(t)}},{key:"handleResult",value:function(){if(this.isDivideByZero())return this.clearExpression(),!1;if(this.canCompute()){var e=this.calculateResult(),t=e;this.setState({result:!0,output:t,expression:[e]}),// console.info("result:",e)}else // console.error("cant compute result",this.state)}},{key:"handleClear",value:function(){// console.log("CLEAR",this),this.clearExpression()}},{key:"render",value:function(){var e=this,t={key:"idx0",className:"digit-0",onClick:this.handleDigitClick};return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"calculator"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"display"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"output"},this.state.output)),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"controls"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"numpad"},[1,2,3,4,5,6,7,8,9].map((function(t,a){var n=a+1,r={key:"idx"+n,className:"digit-"+n,onClick:e.handleDigitClick};return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",r,t)})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{className:"clear btn-op-alt",onClick:this.handleClear},"C"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",t,"0"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{className:"eq btn-op",onClick:this.handleResult},"=")),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"operator-ct"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{onClick:this.handleOperator,className:"operations"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{className:"op-add"},"+"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{className:"op-sub"},"-"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{className:"op-mul"},"X"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{className:"op-div"},"/"))))))}}]),Calculator}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);__webpack_exports__.a=Calculator},26:function(e,t,a){e.exports=a(39)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return I}));var n=a(0),r=a.n(n),s=a(14),_=a.n(s),l=(a(31),a(18)),i=function(e){return r.a.createElement("div",{id:"app1"},r.a.createElement("h1",null,"CALCULATOR"),r.a.createElement(l.a,null))},c=a(3),o=a(6),u=a(7),d=a(2),h=a(9),p=a(8),v=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={inputs:[]},n.showStatus=n.showStatus.bind(Object(d.a)(n)),n.handleOnChange=n.handleOnChange.bind(Object(d.a)(n)),n.handleOnBlur=n.handleOnBlur.bind(Object(d.a)(n)),n.handleAddOnClick=n.handleAddOnClick.bind(Object(d.a)(n)),n.handleActionClick=n.handleActionClick.bind(Object(d.a)(n)),n.container=r.a.createRef(),n}return Object(u.a)(a,[{key:"setInputValue",value:function(e,t){if(this.state.inputs[e]===t)return!1;var a=Object(c.a)(this.state.inputs);a[e]=t,this.setState({inputs:a})}},{key:"addInputField",value:function(){var e=this.state.inputs.length;this.setState({inputs:[].concat(Object(c.a)(this.state.inputs),[{id:e,value:""}])})}},{key:"getFocusId",value:function(e){return"input-".concat(e)}},{key:"getTargetInputIndex",value:function(e,t){return e.findIndex((function(e){var a=e.id+""===t+"";return // console.log(e,t,a),a}))}},{key:"setFocusInput",value:function(e,t){var a,n,r=this.container.current;(a=r.querySelector('input[id="'.concat(e,'"]')))||(// console.warn(e),a=(n=r.querySelectorAll("input"))[t]),a||// console.warn(e,a,n),a.focus(),// console.log("[setFocusInput]",e,a.value)}},{key:"showStatus",value:function(){// console.info("[Status]",this.state)}},{key:"moveDown",value:function(e,t){var a=this;if(!(t.length<=1)){var n=[];e=parseInt(e);var r="input-".concat(t[e].id);if(e===t.length-1)this.setFocusInput(r);else{if(2===t.length)n=[t[1],t[0]];else if(e===t.length-1)n=[].concat(Object(c.a)(t.slice(0,e)),[t[e+1],t[e]]);else{if(!(e<t.length-1))return;n=[].concat(Object(c.a)(t.slice(0,e)),[t[e+1],t[e]],Object(c.a)(t.slice(e+2)))}this.setState({inputs:n},(function(){var t=r;// console.info("setted, focus input idx=".concat(e," id=").concat(r),t),a.setFocusInput(t)}))}}}},{key:"moveUp",value:function(e,t){var a=this;if(!(t.length<=1)){var n,r;if(e=parseInt(e),r="input-".concat(t[e].id),0===e)return // console.warn(e),this.setFocusInput(r),!1;if(e>0&&2===t.length)n=[t[1],t[0]];else if(1===e)n=[t[1],t[0]].concat(Object(c.a)(t.slice(2)));else{var s=e-1;n=[].concat(Object(c.a)(t.slice(0,s)),[t[e],t[e-1]],Object(c.a)(t.slice(e+1)))}// console.log("moving UP idx=".concat(e),n),this.setState({inputs:n},(function(){// console.info("focus input id=",r);var e=r;a.setFocusInput(e)}))}}},{key:"moveInput",value:function(e,t,a){var n=this.getUpdatedInputValues(e,a),r=this.getTargetInputIndex(n,t);switch(// console.log("moving a=".concat(e," index:").concat(a," target=").concat(r," arr"),n),t=parseInt(t),e){case"row-up":this.moveUp(r,n);break;case"row-down":this.moveDown(r,n);break;default:return}}},{key:"deleteInput",value:function(e){var t=[],a=this.getUpdatedInputValues(),n=this.getTargetInputIndex(a,e);t=1===a.length?[]:2===a.length?0===n?[a[1]]:[a[0]]:1===n?[a[0]].concat(Object(c.a)(a.slice(2))):n===a.length-1?Object(c.a)(a.slice(0,-1)):[a.slice(0,n-1)].concat(Object(c.a)(a.slice(n+1))),// console.log("deleteInput index=".concat(e," target=").concat(n," "),t,a),this.setState({inputs:t})}},{key:"getUpdatedInputValues",value:function(){this.state.inputs;var e=this.container.current,t=[],a=e.querySelectorAll("input");return // console.log("update values",a),a.forEach((function(e,a){t.push({id:e.dataset.id,value:e.value})})),t}},{key:"componentDidUpdate",value:function(e,t,a){var n,r=this.state.inputs;return 0!==r.length&&(t.inputs.length!==r.length&&(n=r.length-1,this.setFocusInput(this.getFocusId(n),n)),!0)}},{key:"handleOnChange",value:function(e){e.currentTarget.dataset.id}},{key:"handleOnBlur",value:function(e){e.currentTarget.dataset.id;e.currentTarget===e.target?// console.log("unfocused self"):// console.log("unfocused child",e.target),e.currentTarget.contains(e.relatedTarget)||// console.log("focus left self")}},{key:"handleAddOnClick",value:function(e){e.preventDefault(),this.addInputField()}},{key:"handleActionClick",value:function(e){e.preventDefault();var t=e.target.className,a=e.currentTarget.dataset.id,n=e.currentTarget.dataset.index;if("row-delete"!==t){if(!["row-up","row-down"].includes(t))return!1;var r="row-up"===t;if(this.state.inputs.length<=1)return!1;this.moveInput(t,a,n,r)}else this.deleteInput(n)}},{key:"render",value:function(){var e=this,t=function(e,t){return r.a.createElement("button",Object.assign({className:"add-row"},e),"\u2795")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Dynamic Inputs"),r.a.createElement("p",null,"Add, Remove and Sort inputs."),r.a.createElement(t,{onClick:this.handleAddOnClick}),r.a.createElement("div",{ref:this.container},this.state.inputs.map((function(t,a){if(// console.log("[Input List Render] i=",a,t.id,t.value),!t||void 0===t.id)throw new Error(t);return r.a.createElement(m,{id:"input-ct-".concat(a),index:a,key:"".concat(t.id),idx:"".concat(a),value:t.value,onClick:e.handleActionClick,onBlur:e.handleOnBlur})}))))}}]),a}(r.a.Component),m=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={idx:e.idx,index:e.index,value:e.value,onBlur:e.onBlur,onClick:e.onClick},n.handleOnChange=n.handleOnChange.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"handleOnChange",value:function(e){e.preventDefault(),this.setState({value:e.target.value})}},{key:"render",value:function(){var e={id:"input-".concat(this.state.idx),"data-id":this.state.idx,"data-index":this.state.index,className:"row-input",value:this.state.value,onChange:this.handleOnChange,onBlur:this.state.onBlur},t={className:"row","data-id":this.state.idx,"data-index":this.state.index,id:"input-ct-".concat(this.state.idx),onClick:this.state.onClick};return r.a.createElement("div",t,r.a.createElement("input",e),r.a.createElement("div",{className:"controls"},r.a.createElement("button",{className:"row-up"},"\u2b06"),r.a.createElement("button",{className:"row-down"},"\u2b07"),r.a.createElement("button",{className:"row-delete"},"\u274c")))}}]),a}(r.a.Component),E=(a(32),[{author:"Chinua Achebe",country:"Nigeria",language:"English",pages:209,title:"Things Fall Apart",year:1958},{author:"Dante Alighieri",country:"Italy",language:"Italian",pages:928,title:"The Divine Comedy",year:1315},{author:"Virginia Woolf",country:"United Kingdom",language:"English",pages:216,title:"Mrs Dalloway",year:1925},{author:"Virginia Woolf",country:"United Kingdom",language:"English",pages:209,title:"To the Lighthouse",year:1927}]),b=function(e){return r.a.createElement("div",{id:"app2"},r.a.createElement(v,{books:E}))},g=a(16),O=a(13),f=a(20),k=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(o.a)(this,a);return(n=t.call(this,e)).state={fields:["author","title","country","language","year"].reduce((function(e,t){return e[t]="",e}),{})},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"matchesBook",value:function(e){var t=this.state.fields;return Object.entries(e).every((function(e){var a=Object(f.a)(e,2),n=a[0],r=a[1];return!t[n]||r.toString().toLowerCase().includes(t[n].trim().toLowerCase())}))}},{key:"handleChange",value:function(e){var t=e.currentTarget.dataset.field,a=e.target.value;this.setState((function(e){return Object(O.a)(Object(O.a)({},e),{},{fields:Object(O.a)(Object(O.a)({},e.fields),{},Object(g.a)({},t,a))})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"book-search-container"},r.a.createElement("div",{className:"search-box"},Object.keys(this.state.fields).map((function(t){return r.a.createElement("label",{key:t},t,r.a.createElement("input",{autoComplete:"off",value:e.state.fields[t],className:t,onChange:e.handleChange,"data-field":t}))}))),r.a.createElement("div",{className:"books"},this.props.books.filter((function(t){return e.matchesBook(t)})).map((function(e,t){return r.a.createElement("div",{key:e.title+t,className:"book"},Object.entries(e).map((function(e){var t=Object(f.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{key:a,className:"book-detail-row"},r.a.createElement("span",{className:"book-detail-key"},a),r.a.createElement("span",{className:"book-detail-val"},n))})))}))))}}]),a}(r.a.Component),C=(a(33),[{author:"Chinua Achebe",country:"Nigeria",language:"English",pages:209,title:"Things Fall Apart",year:1958},{author:"Dante Alighieri",country:"Italy",language:"Italian",pages:928,title:"The Divine Comedy",year:1315},{author:"Virginia Woolf",country:"United Kingdom",language:"English",pages:216,title:"Mrs Dalloway",year:1925},{author:"Virginia Woolf",country:"United Kingdom",language:"English",pages:209,title:"To the Lighthouse",year:1927}]),D=function(e){return r.a.createElement("div",{id:"app3"},r.a.createElement(k,{books:C}))},j=a(10),y=a(1);function I(){return r.a.createElement(j.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(j.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(j.b,{to:"/calc"},"Calculator")),r.a.createElement("li",null,r.a.createElement(j.b,{to:"/inputs"},"Dynamic Inputs")),r.a.createElement("li",null,r.a.createElement(j.b,{to:"/search"},"Search")))),r.a.createElement(y.c,null,r.a.createElement(y.a,{exact:!0,path:"/",component:M}),r.a.createElement(y.a,{path:"/calc"},r.a.createElement(i,null)),r.a.createElement(y.a,{path:"/inputs"},r.a.createElement(b,null)),r.a.createElement(y.a,{path:"/search"},r.a.createElement(D,null)))))}function M(){return r.a.createElement("h2",null,"Home")}var x=document.getElementById("root");_.a.render(r.a.createElement(I,null),x)}},[[26,1,2]]]);
//# sourceMappingURL=main.a2d2306b.chunk.js.map